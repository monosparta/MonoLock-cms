# MonoLuck-CMS

## User Story

作為 Monoluck 的管理者
我希望可以看到那些鎖櫃已經被登記使用，在分配新會員的置物櫃上會更加方便

作為 Monoluck 的管理者
我想要能快速解決會員卡號更改的問題，有個後台系統讓我操作

作為 Monoluck 的管理者
我想要可以透過這個系統直接進行開鎖(特殊情況下)

作為 Monoluck 的管理者
紀錄開鎖紀錄(時間與原因)，保障使用者權益

作為 Monoluck 的管理者
我想要可以直接透過系統聯絡使用者，不需要透過第三方聯繫

作為 Monoluck 的使用者
我想在我無法使用鎖櫃的情況下，聯絡管理員，幫我尋找貴重物品。以及對於鎖櫃有任何疑問可以直接詢問置物櫃管理員

作為 Monoluck 的使用者
我想查看鎖櫃開鎖紀錄

## 功能

- 管理者可以看到所有鎖櫃狀態:被誰登記使用，未被登記使用
- 管理者可以更改鎖櫃對應的卡號
- 供管理者用系統開鎖
- 紀錄鎖櫃開啟的時間、開啟的人，並可手動輸入工作人員開啟原因開啟
- 使用者可以查看鎖櫃開鎖紀錄
- 使用者與管理者可以直接透過系統互相聯絡

## 系統需求

- 資訊需求
  - 鎖櫃資料

- 硬體需求
  - 磁卡感應器
  - 樹莓派
  - 樹莓派電子鎖

- 軟體需求
  - React
  - laravel
  - mqtt broker server
    [參考資料](http://www.steves-internet-guide.com/mosquitto-broker/)
  - python
  - MySQL

## 實作方法

- 使用React開發系統網頁為管理者與使用者提供服務
- 使用laravel開發功能需要的相關API，如:管理者開鎖，更改卡號，更改開鎖紀錄的描述
- 改寫現有的置物櫃開鎖程式(python)，將目前把cardId與鎖櫃寫死的狀況，改為呼叫API存取MySQL資料庫。
- 在置物櫃開鎖程式用Socket等待管理員呼叫開鎖
- 在前端網頁用Socket做聊天室系統供使用者與管理者溝通

## 進行方式

- 以敏捷開發模式進行開發
- 四周內時程規劃:
  - Week 1 (4/4~4/8)
    - Wireframe
    - Mockup
    - 規劃ER-Model
    - 架設mysql資料庫+假資料
  - Week 2 (4/11~4/15)
    - 鎖櫃頁面
    - 鎖櫃詳細內容頁面
    - 完成更改卡號API
    - 登入介面sample
    - 研究登入系統
  - Week 3 (4/18~4/22)
    - 聊天室頁面
    - 完成登入系統
    - 完成聊天室API
  - Week 4 (4/25~4/29)
    - 用卡號查鎖櫃實體編碼API
    - 改寫樹莓派開鎖程式(接API)

## 預期達成目標

- 管理員能進系統幫會員更改卡號
- 管理員可以從系統得知哪些鎖櫃已被登記過
- 管理員擁有權利在特殊情況下強制開啟會員的鎖櫃
- 管理員可以查看鎖櫃被使用的紀錄
- 使用者與管理者可以透過系統內的聊天室窗互相聯絡

## ER-Model
https://drive.google.com/file/d/1mLEpI1mvYOw2xc1LucTDVZDRweOXxnaO/view?usp=sharing
